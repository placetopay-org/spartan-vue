---
title: Filter
description: A versatile filter component for building dynamic filter interfaces with multiple field types, operators, and saved filters.
navigation:
  icon: i-lucide-filter
---

::component-status
::

# Usage

The `SFilter` component allows you to build dynamic filter interfaces. Users can add, configure, and apply filters on different fields using various operators and input types.

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: name
      name: Name
      interfaces:
        oneInput:
          operators:
            - equal
            - contains
            - startsWith
    - id: status
      name: Status
      interfaces:
        options:
          options:
            - id: active
              label: Active
            - id: inactive
              label: Inactive
            - id: pending
              label: Pending
          operators:
            - equal
            - notEqual
  hideApplyButton: false
  hideClearButton: false
ignore:
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

## Interfaces

A field can have one or more interfaces. Each interface defines a different way the user can input a filter value.

### oneInput

For fields requiring a single value. Supports text, numbers, dates, and amounts. When `type` is omitted, the input defaults to text.

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: price
      name: Price
      interfaces:
        oneInput:
          type: amount
          currency: USD
          currencies:
            - USD
            - EUR
            - GBP
          operators:
            - equal
            - greaterThan
            - lessThan
            - greaterThanOrEqual
            - lessThanOrEqual
      state:
        operator: greaterThan
        value: '100'
hide:
  - hideApplyButton
  - hideClearButton
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

### twoInputs

For fields requiring a range of values (e.g., date ranges, price ranges).

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: amount
      name: Amount
      interfaces:
        twoInputs:
          type: amount
          currency: USD
          operators:
            - between
            - notBetween
      state:
        operator: between
        value:
          - '100'
          - '500'
hide:
  - hideApplyButton
  - hideClearButton
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

### options

For fields with a predefined set of options. Supports single and multiple selection.

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: brand
      name: Brand
      interfaces:
        options:
          options:
            - id: '1'
              label: Nike
            - Adidas
            - Puma
            - Reebok
          multiple: true
          operators:
            - equal
            - notEqual
            - contains
      state:
        operator: equal
        value:
          - Adidas
hide:
  - hideApplyButton
  - hideClearButton
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

Options can be objects with `id` and `label`, or simple strings.

### selection

For fields where the user enters their own values as tags. Ideal for keywords, dynamic categories, or any field where the user needs to define custom values.

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: tags
      name: Tags
      interfaces:
        selection:
          operators:
            - equal
            - notEqual
hide:
  - hideApplyButton
  - hideClearButton
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

### none

For existence-only checks (no value input needed).

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: avatar
      name: Has Avatar
      interfaces:
        none:
          operators:
            - exist
            - notExist
hide:
  - hideApplyButton
  - hideClearButton
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

## Multiple Interfaces

A single field can have multiple interfaces, allowing the user to choose between different input modes depending on the operator.

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: price
      name: Price
      interfaces:
        oneInput:
          type: number
          operators:
            - equal
            - greaterThan
            - lessThan
        twoInputs:
          type: number
          operators:
            - between
            - notBetween
        none:
          operators:
            - exist
            - notExist
hide:
  - hideApplyButton
  - hideClearButton
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

## Custom Operators

You can define custom operators as objects with `id`, `label`, and an optional `tag` (string or function) displayed in the badge.

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: reference
      name: Reference
      interfaces:
        oneInput:
          operators:
            - equal
            - id: customSearch
              label: Search by ref
              tag: 'Ref: '
      state:
        operator:
          id: customSearch
          label: Search by ref
          tag: 'Ref: '
        value: ABC-123
hide:
  - hideApplyButton
  - hideClearButton
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

## Permanent Filters

Set `permanent: true` on a field to prevent it from being removed or cleared by the user.

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: tenant
      name: Tenant
      permanent: true
      interfaces:
        options:
          options:
            - id: '1'
              label: Main Tenant
            - id: '2'
              label: Secondary
          operators:
            - equal
      state:
        operator: equal
        value: '1'
    - id: status
      name: Status
      interfaces:
        options:
          options:
            - id: active
              label: Active
            - id: inactive
              label: Inactive
          operators:
            - equal
            - notEqual
hide:
  - hideApplyButton
  - hideClearButton
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

## Hide Buttons

Use `hideApplyButton` and `hideClearButton` to control the visibility of the action buttons.

::spartan-component
---
external: ['fields']
props:
  fields:
    - id: name
      name: Name
      interfaces:
        oneInput:
          operators:
            - equal
            - contains
      state:
        operator: contains
        value: John
  hideApplyButton: false
  hideClearButton: false
ignore:
  - responsive
  - applyWhenClear
  - immediateApply
  - saved
---
::

## Validation

Fields support custom validation through the `validate` function. It receives the current value and operator, and should return an error message string (or `null` if valid). Supports async validation.

```vue
<template>
  <SFilter :fields="fields" @apply="onApply" />
</template>

<script setup lang="ts">
import { SFilter, type TField } from '@placetopay/spartan-vue';

const fields: TField[] = [
  {
    id: 'bin',
    name: 'Card BIN',
    interfaces: {
      oneInput: {
        operators: ['equal'],
      },
    },
    validate: async (value) => {
      const binRegex = /^\d{6}$/;
      return !binRegex.test(value) ? 'BIN must be exactly 6 digits' : null;
    },
  },
  {
    id: 'amount',
    name: 'Amount',
    interfaces: {
      twoInputs: {
        type: 'amount',
        currency: 'USD',
        operators: ['between'],
      },
    },
    validate: (value, operator) => {
      return operator === 'between' && parseFloat(value[0]) > parseFloat(value[1])
        ? 'Min value must be less than max value'
        : null;
    },
  },
];
</script>
```

## Saved Filters

The component supports saving and loading filter configurations through the `saved` prop and the `save`/`load` events.

```vue
<template>
  <SFilter
    :fields="fields"
    :saved="savedFilters"
    @apply="onApply"
    @save="onSave"
    @load="onLoad"
  />
</template>

<script setup lang="ts">
import { ref } from 'vue';
import type { TField, TSaveData } from '@placetopay/spartan-vue';

const savedFilters = ref<TSaveData[]>([]);

const onSave = (data: TSaveData[]) => {
  savedFilters.value = data;
};

const onLoad = (filters: TField[]) => {
  console.log('Loaded filters:', filters);
};
</script>
```

## Exposed Methods

The component exposes `apply` and `clear` methods that can be called via template ref.

```vue
<template>
  <SFilter ref="filterRef" :fields="fields" @apply="onApply" />
  <button @click="filterRef?.apply()">Apply</button>
  <button @click="filterRef?.clear()">Clear</button>
</template>
```

## Operators

### Predefined Operators

| Category | Operators |
|----------|-----------|
| Comparison | `equal`, `notEqual`, `greaterThan`, `greaterThanOrEqual`, `lessThan`, `lessThanOrEqual` |
| Text | `contains`, `notContains`, `startsWith`, `endsWith` |
| Range | `between`, `notBetween` |
| Date | `lastWeek`, `lastMonth`, `lastYear`, `today`, `yesterday` |
| Existence | `exist`, `notExist` |

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `fields` | `TField[]` | - | Array of filterable fields |
| `hideApplyButton` | `boolean` | `false` | Hides the apply button |
| `hideClearButton` | `boolean` | `false` | Hides the clear button |
| `applyWhenClear` | `boolean` | `false` | Automatically applies filters when clearing |
| `immediateApply` | `boolean` | `false` | Applies filters immediately on mount |
| `responsive` | `boolean` | `true` | Controls responsive behavior |
| `saved` | `TSaveData[]` | - | Saved filter configurations. Shows the save button when provided |

## Events

| Event | Payload | Description |
|-------|---------|-------------|
| `apply` | `TField[]` | Emitted when filters are applied. Contains only fields with active state |
| `clear` | `TField[]` | Emitted when filters are cleared |
| `save` | `TSaveData[]` | Emitted when the user saves a filter configuration |
| `load` | `TField[]` | Emitted when a saved filter is loaded |
