---
title: Migration
description: Guide to migrate from Spartan 2.x (TailwindCSS 3) to Spartan 3.x (TailwindCSS 4).
navigation:
  icon: i-lucide-replace
seo:
  title: Migration  
  description: Step-by-step guide to migrate from Spartan 2.x with TailwindCSS 3 to Spartan 3.x with TailwindCSS 4.
---

This guide covers the migration from **Spartan 2.x** (TailwindCSS 3) to **Spartan 3.x** (TailwindCSS 4). The migration involves moving from a JavaScript plugin-based system to a configuration entirely based on CSS.

## Prerequisites

- Node.js `20.19` or higher
- NPM `^10`
- An existing project using Spartan 2.x

## Migration steps

::steps
### Remove the Spartan plugin

In your `tailwind.config.js`, remove the Spartan content path and its plugin:

```diff [tailwind.config.js]
module.exports = {
  content: [
    './src/**/*.{vue,js,ts,jsx,tsx}',
-   'node_modules/@placetopay/spartan-vue/dist/**/*.js',
  ],
  plugins: [
-   require('@placetopay/spartan-vue/plugin'),
  ],
}
```

### Run the TailwindCSS upgrade tool

Use the official TailwindCSS migration tool to update your project automatically:

::::code-group

```bash [npm]
npx @tailwindcss/upgrade
```

```bash [pnpm]
pnpm dlx @tailwindcss/upgrade
```

```bash [yarn]
yarn dlx @tailwindcss/upgrade
```
::::

This tool automatically handles:

- Migrating your `tailwind.config.js` to CSS-based configuration
- Updating utility classes that changed
- Identifying incompatibilities

::prose-warning
Review the [official TailwindCSS v4 upgrade guide](https://tailwindcss.com/docs/upgrade-guide) for detailed information on the breaking changes.
::

### Remove the PostCSS configuration (if you use it)

If you were using PostCSS with TailwindCSS 3, remove the configuration file and dependencies:

```bash [Terminal]
rm postcss.config.js
```

```diff [package.json]
{
  "devDependencies": {
-   "@tailwindcss/postcss": "^4.1.18",
-   "postcss": "^8.4.33",
  }
}
```

### Install the TailwindCSS Vite plugin (if you use Vite)

If your project uses Vite, install the official TailwindCSS plugin for Vite:

::::code-group

```bash [npm]
npm install -D @tailwindcss/vite
```

```bash [pnpm]
pnpm add -D @tailwindcss/vite
```

```bash [yarn]
yarn add --dev @tailwindcss/vite
```
::::

And add it to your Vite configuration:

```js [vite.config.js]
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import tailwindcss from '@tailwindcss/vite'

export default defineConfig({
  plugins: [
    vue(),
    tailwindcss(),
  ],
})
```

### Update Spartan to 3.x

Install the latest version of Spartan:

::::code-group

```bash [npm]
npm install @placetopay/spartan-vue@latest
```

```bash [pnpm]
pnpm add @placetopay/spartan-vue@latest
```

```bash [yarn]
yarn add @placetopay/spartan-vue@latest
```
::::

### Update style imports

There are two changes in how styles are imported. First, **remove** the CSS import you had in your entry point:

```diff [main.ts]
- import '@placetopay/spartan-vue/style.css'
  import { createApp } from 'vue'
  import App from './App.vue'
```

Then, add the Spartan import in your main CSS stylesheet:

```css [styles.css]
@import "@placetopay/spartan-vue/styles.css";

@source '../src/**/*.{vue,js,ts,jsx,tsx}';
```

And import that stylesheet from your entry point:

```ts [main.ts]
import './styles.css'

import { createApp } from 'vue'
import App from './App.vue'

createApp(App).mount('#app')
```

### Update Tailwind color imports (if you use them)

TailwindCSS 4 changed how colors are exported. If you were importing Tailwind colors in JS/TS files:

```diff
- // Tailwind 3 (no longer works)
- import { red, blue } from 'tailwindcss/colors'

+ // Tailwind 4
+ import colors from 'tailwindcss/colors'
+
+ const red = colors.red
+ const blue = colors.blue
```

### Verify and test

Run a build and start the development server to validate everything works:

```bash [Terminal]
npm run build
npm run dev
```

Visually review your application to make sure all styles are applied correctly.
::

## Breaking changes

### TailwindCSS 4

- **Configuration:** Now done from CSS with `@theme`, `@plugin`, among others, instead of `tailwind.config.js`
- **Dark mode:** Configured via `@custom-variant` in CSS
- **Content sources:** Uses the `@source` directive in CSS instead of the `content` array in the configuration file
- **`ring` utility:** `ring-3` is no longer valid, use `ring` with a custom width if needed

### Spartan 3.x

- **No JavaScript plugin:** All configuration is done from CSS
- **Simplified imports:** A single `@import` of `styles.css` includes everything
- **Updated peer dependencies:** Requires TailwindCSS 4.x

## Custom primary color

If in Spartan 2.x you customized the primary color through the plugin, you need to migrate that configuration to CSS variables:

```diff
- // tailwind.config.js (Spartan 2.x)
- plugins: [
-   require('@placetopay/spartan-vue/plugin')({
-     primary: {
-       50: '228 242 253',
-       500: '33 150 243',
-       // ...
-     }
-   })
- ]

+ /* styles.css (Spartan 3.x) */
+ @import "@placetopay/spartan-vue/styles.css";
+
+ @source '../src/**/*.{vue,js,ts,jsx,tsx}';
+
+ @theme {
+   --color-spartan-primary-50:  rgb(228 242 253);
+   --color-spartan-primary-100: rgb(187 222 251);
+   --color-spartan-primary-200: rgb(144 202 249);
+   --color-spartan-primary-300: rgb(100 181 246);
+   --color-spartan-primary-400: rgb(66 165 245);
+   --color-spartan-primary-500: rgb(33 150 243);
+   --color-spartan-primary-600: rgb(30 132 229);
+   --color-spartan-primary-700: rgb(25 103 196);
+   --color-spartan-primary-800: rgb(21 78 148);
+   --color-spartan-primary-900: rgb(13 42 84);
+ }
```
